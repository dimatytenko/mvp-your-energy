{"version":3,"file":"commonHelpers2.js","sources":["../src/js/subscribe.js","../src/js/menu.js","../src/js/home.js","../src/js/hero.js","../src/js/footer.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { ApiServices } from './ApiServices';\nconst apiServices = new ApiServices();\n\nconst formSubmit = document.querySelector('.js-footer-form');\nconst btnSubmit = document.querySelector('.footer-form-btn');\nconst emailInput = document.querySelector('input[type=\"email\"]');\n\nfunction isValidEmail(email) {\n  const emailPattern = /^[^\\s@]+(?:\\.[^\\s@]+)*@[^\\s@]+\\.[^\\s@]+$/;\n  return emailPattern.test(email);\n}\n\nif (btnSubmit) {\n  btnSubmit.disabled = true;\n\n  emailInput.addEventListener('input', () => {\n    const email = emailInput.value;\n\n    if (isValidEmail(email)) {\n      btnSubmit.style.backgroundColor = '#c6cdd1';\n      btnSubmit.disabled = false;\n    } else {\n      btnSubmit.style.backgroundColor = '#f4f4f4';\n      btnSubmit.disabled = true;\n    }\n  });\n\n  btnSubmit.addEventListener('mouseover', () => {\n    const email = emailInput.value;\n\n    if (!isValidEmail(email)) {\n      btnSubmit.style.cursor = 'not-allowed';\n    } else {\n      btnSubmit.style.cursor = 'pointer';\n    }\n  });\n\n  btnSubmit.addEventListener('mouseout', () => {\n    btnSubmit.style.cursor = 'default';\n  });\n\n  formSubmit.addEventListener('submit', async event => {\n    event.preventDefault();\n\n    const email = emailInput.value;\n\n    if (!isValidEmail(email)) {\n      iziToast.warning({\n        message: 'Invalid email address was entered.',\n        position: 'topRight',\n      });\n      return;\n    }\n\n    const subscriptionData = {\n      email: email,\n    };\n    try {\n      const resp = await apiServices.subscription(subscriptionData);\n      console.log('resp', resp);\n      if (resp?.response?.status === 409) {\n        iziToast.warning({\n          message: 'Subscription already exists',\n          position: 'topRight',\n        });\n        return;\n      }\n      if (resp?.response?.status === 400) {\n        iziToast.warning({\n          message: 'Bad request (invalid request body)',\n          position: 'topRight',\n        });\n        return;\n      }\n      if (resp?.message) {\n        iziToast.success({\n          message: resp.message,\n          position: 'topRight',\n        });\n      }\n    } catch (error) {\n      console.log('error', error);\n    } finally {\n      formSubmit.reset();\n    }\n  });\n}\n","import { refs } from './refs';\n\nrefs.exerciseRefresh.addEventListener('click', onRefresh);\n\nfunction onRefresh(e) {\n  location.reload();\n}\n","import { ApiServices } from './ApiServices';\nimport { CustomPagination } from './ApiPagination';\n\nimport { refs } from './refs';\nimport { getRenderCategories, getRenderExercises } from './functions';\nimport { API_TYPES } from './constants';\n\nimport icons from '../img/sprite.svg';\n\nconst pagination = new CustomPagination();\nconst apiCategories = new ApiServices(API_TYPES.FILTERS);\nconst apiExercises = new ApiServices(API_TYPES.EXEECISES);\nif (window.innerWidth < 768) {\n  apiCategories.setPerPage(9);\n  apiExercises.setPerPage(9);\n}\n\nrefs.categoriesList.addEventListener('click', onCategoriesListClick);\nrefs.search.addEventListener('submit', e => onSearch(e, state));\nrefs.searchInput.addEventListener('input', e => onInput(e, state));\nrefs.searchInput.addEventListener('focus', onInputFocus);\nrefs.searchInput.addEventListener('blur', onInputBlur);\n\nconst state = {\n  searchQuery: '',\n};\n\nif (refs.closeIcon) {\n  refs.closeIcon.addEventListener('click', onClose);\n}\n\ndocument.addEventListener('click', function (e) {\n  if (e.target.closest('#menu-close-icon')) {\n    onClose(e);\n  }\n});\n\nfunction onInput(e, state) {\n  const inputText = e.currentTarget.value.trim();\n\n  if (state.searchQuery !== inputText) {\n    refs.searchBtn.innerHTML = `\n      <svg id=\"menu-search-icon\" class=\"menu-search-icon\" width=\"18\" height=\"18\">\n        <use href=\"${icons}#icon-search\"></use>\n      </svg>\n    `;\n  }\n}\n\nfunction onInputFocus(e) {\n  e.target.placeholder = '';\n}\n\nfunction onInputBlur(e) {\n  if (!e.target.value.trim()) {\n    e.target.placeholder = 'Search';\n  }\n}\n\nasync function onClose(e) {\n  refs.searchBtn.innerHTML = `\n      <svg id=\"menu-search-icon\" class=\"menu-search-icon\" width=\"18\" height=\"18\">\n        <use href=\"${icons}#icon-search\"></use>\n      </svg>\n    `;\n  refs.search.reset();\n\n  const formData = new FormData(refs.search);\n  state.searchQuery = formData.get('search').trim();\n\n  const exercise = apiExercises.getExercise();\n  apiExercises.setSearch(state.searchQuery);\n\n  if (state.searchQuery === undefined) {\n    onInputBlur(e);\n  }\n\n  await renderExercises(exercise);\n\n  refs.categoryError.classList.add('visually-hidden');\n}\n\nasync function onSearch(e, state) {\n  e.preventDefault();\n\n  const formData = new FormData(e.currentTarget);\n  state.searchQuery = formData.get('search').trim();\n\n  if (state.searchQuery !== '') {\n    refs.searchBtn.innerHTML = `\n      <svg id=\"menu-close-icon\" class=\"menu-close-icon\" width=\"18\" height=\"18\">\n        <use href=\"${icons}#icon-close\"></use>\n      </svg>\n    `;\n  }\n\n  refs.categoryError.classList.add('visually-hidden');\n\n  const exercise = apiExercises.getExercise();\n  console.log(exercise);\n  apiExercises.setSearch(state.searchQuery);\n\n  await renderExercises(exercise);\n  return state.searchQuery;\n}\n\nasync function onCategoriesListClick(e) {\n  if (e.target.nodeName !== 'LI') {\n    return;\n  }\n  refs.exercise.textContent = '';\n  refs.exerciseDecor.classList.add('visually-hidden');\n  refs.categoryError.classList.add('visually-hidden');\n  refs.search.classList.add('visually-hidden');\n\n  const currentActiveItem = e.currentTarget.querySelector('.current');\n\n  if (currentActiveItem) {\n    currentActiveItem.classList.remove('current');\n  }\n  e.target.classList.add('current');\n  const categorie = e.target.textContent;\n\n  apiCategories.setCategory(categorie);\n  apiExercises.setCategory(categorie);\n  await renderCategories();\n}\n\nasync function renderCategories() {\n  const categories = await apiCategories.getCategories();\n  refs.categorySceletonLoader.classList.add('visually-hidden');\n  getRenderCategories(categories.results, refs.categoriesContainer);\n\n  if (!categories?.totalPages) {\n    refs.categoryError.classList.remove('visually-hidden');\n  }\n  if (categories.totalPages <= 1) {\n    refs.paginationBox.classList.add('visually-hidden');\n    return;\n  }\n  refs.paginationBox.classList.remove('visually-hidden');\n\n  pagination.init(apiCategories, categories.totalPages, categories.perPage);\n}\nrenderCategories();\n\nrefs.categoriesContainer.addEventListener('click', onCategoriesContainerClick);\n\nasync function onCategoriesContainerClick(e) {\n  if (e.target.closest('.js-exercise')) {\n    const exercise = e.target.closest('.js-exercise').dataset.exercise;\n\n    refs.exercise.textContent = exercise;\n    refs.exerciseDecor.classList.remove('visually-hidden');\n    refs.search.classList.remove('visually-hidden');\n    refs.search.style.display = 'block';\n\n    await renderExercises(exercise);\n    return;\n  }\n}\n\nasync function renderExercises(exercise) {\n  apiExercises.setExercise(exercise);\n\n  const exercises = await apiExercises.getExercises();\n\n  getRenderExercises(exercises.results, refs.categoriesContainer);\n\n  if (!exercises?.totalPages) {\n    refs.categoryError.classList.remove('visually-hidden');\n  }\n  if (exercises.totalPages <= 1) {\n    refs.paginationBox.classList.add('visually-hidden');\n    return;\n  }\n  refs.paginationBox.classList.remove('visually-hidden');\n\n  pagination.init(apiExercises, exercises.totalPages, exercises.perPage);\n}\n","const texts = ['#Sport', '#Healthy', '#Workout', '#Diet'];\nconst interval = 100;\nconst paragraphElements = document.querySelectorAll('.hero-item-text');\nlet currentIndex = 0;\n\nfunction displayTextByCharacter() {\n  if (currentIndex < texts.length) {\n    const text = texts[currentIndex];\n    const paragraph = paragraphElements[currentIndex];\n\n    let charIndex = 0;\n    const timer = setInterval(function () {\n      if (charIndex < text.length) {\n        paragraph.textContent += text[charIndex];\n        charIndex++;\n      } else {\n        clearInterval(timer);\n        currentIndex++;\n        setTimeout(displayTextByCharacter, interval);\n      }\n    }, interval);\n  }\n}\n\ndisplayTextByCharacter();\n","import { gsap } from 'gsap';\n\nconst options = {\n  root: null,\n  rootMargin: '0px',\n  threshold: 0,\n};\n\nconst text = document.querySelector('.footer-title-span');\nconst observer = new IntersectionObserver(handleIntersection, options);\n\nobserver.observe(text);\n\nfunction handleIntersection(entries, observer) {\n  entries.forEach(entry => {\n    if (!entry.isIntersecting) {\n      return;\n    }\n\n    gsap.set(text, { clearProps: 'all' });\n\n    gsap.to(text, {\n      duration: 2,\n      opacity: 1,\n      x: 0,\n      rotationX: 360,\n      delay: 0,\n    });\n    //observer.unobserve(entry.target);\n  });\n}\n"],"names":["apiServices","ApiServices","formSubmit","btnSubmit","emailInput","isValidEmail","email","event","iziToast","subscriptionData","resp","_a","_b","error","refs","onRefresh","pagination","CustomPagination","apiCategories","API_TYPES","apiExercises","onCategoriesListClick","onSearch","state","onInput","onInputFocus","onInputBlur","onClose","inputText","icons","formData","exercise","renderExercises","currentActiveItem","categorie","renderCategories","categories","getRenderCategories","onCategoriesContainerClick","exercises","getRenderExercises","texts","interval","paragraphElements","currentIndex","displayTextByCharacter","text","paragraph","charIndex","timer","options","observer","handleIntersection","entries","entry","gsap"],"mappings":"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"}